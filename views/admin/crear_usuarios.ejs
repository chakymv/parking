<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title><%= titulo || 'Administrar usuarios del sistema' %></title>
  <link rel="stylesheet" href="/admin/css/estilo.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
</head>
<body>
  <%- include('header') %>
  <main>
    <div class="contenido-principal">
      <h1 class="centrar">Administrar usuarios del sistema</h1>
      <hr class="linea-windows">

      <!-- üîç Filtros -->
      <div style="margin-bottom:15px;display:flex;gap:10px;">
        <select id="filtro-estado" class="input-filtro">
          <option value="">-- Estado --</option>
          <option value="activo">Activo</option>
          <option value="inactivo">Inactivo</option>
        </select>
        <select id="filtro-perfil" class="input-filtro">
          <option value="">-- Perfil --</option>
          <option value="1">Administrador</option>
          <option value="2">Operador</option>
        </select>
      </div>

      <div id="crear-usuarios-content">
        <button class="btn-agregar" id="btn-agregar-usuario">Agregar Usuario</button>
        <table id="usuarios-table" class="dataTable" style="width:100%;margin-top:20px;"></table>
      </div>

      <!-- Modal -->
      <div class="modal" id="modal-usuario">
        <div class="contenido-modal">
          <div class="encabezado-modal">
            <span id="modal-titulo">Crear Usuario</span>
            <button class="cerrar" id="btn-cerrar-modal">&times;</button>
          </div>
          <div class="cuerpo-modal">
            <form id="form-usuario" autocomplete="off">
              <input type="hidden" id="id_usuario" name="id_usuario">
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
                <div><label>Tipo Documento</label><select id="tipo_documento" name="tipo_documento" required>
                  <option value="CC">C√©dula</option>
                  <option value="TI">Tarjeta Identidad</option>
                  <option value="CE">C√©dula Extranjer√≠a</option>
                </select></div>
                <div><label>N√∫mero Documento</label><input type="text" id="numero_documento" name="numero_documento" required></div>
                <div><label>Primer Nombre</label><input type="text" id="primer_nombre" name="primer_nombre" required></div>
                <div><label>Segundo Nombre</label><input type="text" id="segundo_nombre" name="segundo_nombre"></div>
                <div><label>Primer Apellido</label><input type="text" id="primer_apellido" name="primer_apellido" required></div>
                <div><label>Segundo Apellido</label><input type="text" id="segundo_apellido" name="segundo_apellido"></div>
                <div><label>Correo</label><input type="email" id="direccion_correo" name="direccion_correo" required></div>
                <div><label>Celular</label><input type="text" id="numero_celular" name="numero_celular"></div>
                <div><label>Estado</label><select id="estado" name="estado" required>
                  <option value="activo">Activo</option>
                  <option value="inactivo">Inactivo</option>
                </select></div>
                <div><label>Perfil</label><select id="perfil_usuario_id" name="perfil_usuario_id" required>
                  <option value="1">Administrador</option>
                  <option value="2">Operador</option>
                </select></div>
                <div><label>Contrase√±a</label><input type="password" id="clave" name="clave" required></div>
              </div>
              <div id="modal-msg" class="centrar" style="color:red;margin-top:10px;"></div>
              <div style="margin-top:15px;text-align:right;">
                <button type="submit" class="btn-guardar">Guardar</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="/admin/js/crear-usuarios.js"></script>
</body>
</html>
